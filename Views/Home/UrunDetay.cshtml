@model ElektronikSatisProje.Models.Urun

@{
    ViewBag.Title = Model != null ? Model.Ad : "Ürün Detayı";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Eğer model boş gelirse hata vermesin -->
@if (Model != null)
{
    <!-- Yol Haritası -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-white shadow-sm rounded">
            <li class="breadcrumb-item"><a href="~/Home/Index">Anasayfa</a></li>
            <li class="breadcrumb-item active" aria-current="page">@Model.Ad</li>
        </ol>
    </nav>

    <div class="card shadow mb-4">
        <div class="card-body">
            <div class="row">

                <!-- SOL: RESİM -->
                <div class="col-md-6 d-flex align-items-center justify-content-center border-right">
                    <div class="position-relative text-center w-100">
                        <span class="badge @Model.RozetClass position-absolute" style="top:0; left:0; font-size: 1rem;">@Model.Rozet</span>
                        <!-- Resmi ortala ve sınırla -->
                        <img src="@Model.ResimYolu" class="img-fluid" style="max-height: 400px; object-fit: contain;" alt="@Model.Ad">
                    </div>
                </div>

                <!-- SAĞ: BİLGİLER -->
                <div class="col-md-6 p-4">
                    <h3 class="font-weight-bold text-gray-800 mb-2">@Model.Ad</h3>
                    <div class="mb-3">
                        <span class="badge badge-warning text-dark"><i class="fas fa-star"></i> 4.9</span>
                        <span class="text-muted small ml-2">Ürün Kodu: #@Model.Id</span>
                    </div>

                    <p class="text-gray-600 mb-4" style="font-size: 1.1rem;">
                        @Model.Aciklama
                    </p>

                    <h1 class="font-weight-bold text-primary mb-4">@Model.Fiyat.ToString("N0") TL</h1>

                    <!-- Sepete Ekle Butonu -->
                    <button class="btn btn-success btn-lg btn-block shadow-sm"
                            onclick="addToCart('@Model.Ad', @((int)Model.Fiyat), '@Model.ResimYolu')">
                        <i class="fas fa-cart-plus mr-2"></i> Sepete Ekle
                    </button>

                    <!-- Güvenlik İkonları -->
                    <div class="row text-center mt-5 pt-3 border-top">
                        <div class="col-4">
                            <i class="fas fa-truck fa-2x text-gray-400 mb-2"></i>
                            <p class="small mb-0">Hızlı Kargo</p>
                        </div>
                        <div class="col-4">
                            <i class="fas fa-shield-alt fa-2x text-gray-400 mb-2"></i>
                            <p class="small mb-0">2 Yıl Garanti</p>
                        </div>
                        <div class="col-4">
                            <i class="fas fa-undo fa-2x text-gray-400 mb-2"></i>
                            <p class="small mb-0">Kolay İade</p>
                        </div>
                    </div>
                </div>
            </div>

            <hr class="my-5">

            <!-- TABLO: TEKNİK ÖZELLİKLER -->
            <div class="row">
                <div class="col-12">
                    <h4 class="font-weight-bold text-gray-800 mb-4">Teknik Özellikler</h4>
                    @if (Model.TeknikOzellikler != null && Model.TeknikOzellikler.Count > 0)
                    {
                        <table class="table table-striped table-bordered">
                            <tbody>
                                @foreach (var ozellik in Model.TeknikOzellikler)
                                {
                                    <tr>
                                        <th style="width: 30%; background-color: #f8f9fc;">@ozellik.Key</th>
                                        <td>@ozellik.Value</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <div class="alert alert-warning">Teknik özellik bilgisi girilmemiş.</div>
                    }
                </div>
            </div>
        </div>
    </div>
}
else
{
    <div class="alert alert-danger">Ürün bulunamadı!</div>
}

